# Test configuration for adaptive mesh coarsening

coordinate_system: cartesian

mesh:
  dx: 1.0e-3
  dy: 1.0e-3

boundary_conditions:
  left:
    type: dirichlet
    value: 0.0
  right:
    type: dirichlet
    value: 0.0
  bottom:
    type: dirichlet
    value: 0.0
  top:
    type: dirichlet
    value: 0.0

materials:
  air:
    rgb: [255, 255, 255]
    mu_r: 1.0
    jz: 0.0
    coarsen: true
    coarsen_ratio: 4

  iron:
    rgb: [128, 128, 128]
    mu_r: 1000.0
    jz: 0.0
    coarsen: false

  coil:
    rgb: [255, 0, 0]
    mu_r: 1.0
    jz: 1.0e6
    coarsen: false

# ------------------------------ 材料プリセット --------------------------------------------

material_presets:
  pure_iron:  # Fröhlich-Kennelly model based, Bs=2.0T, mu_r_max=~1e4 at H=70A/m
    mu_r: [
            # H (A/m)
           [1.00e+00, 1.12e+00, 1.26e+00, 1.42e+00, 1.59e+00, 1.79e+00, 2.01e+00, 2.26e+00,
            2.54e+00, 2.85e+00, 3.20e+00, 3.59e+00, 4.04e+00, 4.53e+00, 5.09e+00, 5.72e+00,
            6.43e+00, 7.22e+00, 8.11e+00, 9.11e+00, 1.02e+01, 1.15e+01, 1.29e+01, 1.45e+01,
            1.63e+01, 1.83e+01, 2.06e+01, 2.31e+01, 2.60e+01, 2.92e+01, 3.27e+01, 3.68e+01,
            4.13e+01, 4.64e+01, 5.21e+01, 5.86e+01, 6.58e+01, 7.39e+01, 8.30e+01, 9.33e+01,
            1.05e+02, 1.18e+02, 1.32e+02, 1.48e+02, 1.67e+02, 1.87e+02, 2.10e+02, 2.36e+02,
            2.66e+02, 2.98e+02, 3.35e+02, 3.76e+02, 4.23e+02, 4.75e+02, 5.34e+02, 5.99e+02,
            6.73e+02, 7.56e+02, 8.50e+02, 9.55e+02, 1.07e+03, 1.20e+03, 1.35e+03, 1.52e+03,
            1.71e+03, 1.92e+03, 2.15e+03, 2.42e+03, 2.72e+03, 3.05e+03, 3.43e+03, 3.85e+03,
            4.33e+03, 4.86e+03, 5.46e+03, 6.14e+03, 6.89e+03, 7.74e+03, 8.70e+03, 9.77e+03,
            1.10e+04, 1.23e+04, 1.38e+04, 1.56e+04, 1.75e+04, 1.96e+04, 2.21e+04, 2.48e+04,
            2.78e+04, 3.13e+04, 3.51e+04, 3.94e+04, 4.43e+04, 4.98e+04, 5.59e+04, 6.28e+04,
            7.05e+04, 7.92e+04, 8.90e+04, 1.00e+05],

            # mu_r = B/H/mu0
           [3.10e+02, 3.10e+02, 3.10e+02, 3.09e+02, 3.09e+02, 3.08e+02, 3.08e+02, 3.07e+02,
            3.06e+02, 3.05e+02, 3.04e+02, 3.03e+02, 3.02e+02, 3.00e+02, 2.98e+02, 2.97e+02,
            2.95e+02, 2.93e+02, 2.90e+02, 2.87e+02, 2.85e+02, 2.81e+02, 2.78e+02, 2.74e+02,
            2.70e+02, 2.66e+02, 2.61e+02, 2.57e+02, 2.54e+02, 2.58e+02, 2.83e+02, 3.93e+02,
            8.71e+02, 2.79e+03, 7.05e+03, 9.47e+03, 9.57e+03, 9.18e+03, 8.72e+03, 8.26e+03,
            7.79e+03, 7.33e+03, 6.87e+03, 6.42e+03, 5.98e+03, 5.55e+03, 5.14e+03, 4.74e+03,
            4.36e+03, 4.00e+03, 3.66e+03, 3.34e+03, 3.05e+03, 2.77e+03, 2.51e+03, 2.28e+03,
            2.06e+03, 1.86e+03, 1.68e+03, 1.51e+03, 1.36e+03, 1.22e+03, 1.10e+03, 9.84e+02,
            8.82e+02, 7.90e+02, 7.07e+02, 6.33e+02, 5.66e+02, 5.06e+02, 4.52e+02, 4.04e+02,
            3.60e+02, 3.22e+02, 2.87e+02, 2.56e+02, 2.29e+02, 2.04e+02, 1.82e+02, 1.62e+02,
            1.45e+02, 1.29e+02, 1.15e+02, 1.03e+02, 9.16e+01, 8.17e+01, 7.29e+01, 6.50e+01,
            5.80e+01, 5.18e+01, 4.62e+01, 4.13e+01, 3.68e+01, 3.29e+01, 2.94e+01, 2.63e+01,
            2.35e+01, 2.11e+01, 1.89e+01, 1.69e+01]]
  
  permendur:  # Fröhlich-Kennelly model based, Bs=2.25T, mu_r_max=~2.5e4 at H=26A/m
    mu_r: [
           [1.00e+00, 1.12e+00, 1.26e+00, 1.42e+00, 1.59e+00, 1.79e+00, 2.01e+00, 2.26e+00,
            2.54e+00, 2.85e+00, 3.20e+00, 3.59e+00, 4.04e+00, 4.53e+00, 5.09e+00, 5.72e+00,
            6.43e+00, 7.22e+00, 8.11e+00, 9.11e+00, 1.02e+01, 1.15e+01, 1.29e+01, 1.45e+01,
            1.63e+01, 1.83e+01, 2.06e+01, 2.31e+01, 2.60e+01, 2.92e+01, 3.27e+01, 3.68e+01,
            4.13e+01, 4.64e+01, 5.21e+01, 5.86e+01, 6.58e+01, 7.39e+01, 8.30e+01, 9.33e+01,
            1.05e+02, 1.18e+02, 1.32e+02, 1.48e+02, 1.67e+02, 1.87e+02, 2.10e+02, 2.36e+02,
            2.66e+02, 2.98e+02, 3.35e+02, 3.76e+02, 4.23e+02, 4.75e+02, 5.34e+02, 5.99e+02,
            6.73e+02, 7.56e+02, 8.50e+02, 9.55e+02, 1.07e+03, 1.20e+03, 1.35e+03, 1.52e+03,
            1.71e+03, 1.92e+03, 2.15e+03, 2.42e+03, 2.72e+03, 3.05e+03, 3.43e+03, 3.85e+03,
            4.33e+03, 4.86e+03, 5.46e+03, 6.14e+03, 6.89e+03, 7.74e+03, 8.70e+03, 9.77e+03,
            1.10e+04, 1.23e+04, 1.38e+04, 1.56e+04, 1.75e+04, 1.96e+04, 2.21e+04, 2.48e+04,
            2.78e+04, 3.13e+04, 3.51e+04, 3.94e+04, 4.43e+04, 4.98e+04, 5.59e+04, 6.28e+04,
            7.05e+04, 7.92e+04, 8.90e+04, 1.00e+05],

           # mu_r = B/H/mu0
           [5.09e+03, 5.09e+03, 5.07e+03, 5.05e+03, 5.03e+03, 5.01e+03, 4.99e+03, 4.96e+03,
            4.93e+03, 4.90e+03, 4.86e+03, 4.82e+03, 4.78e+03, 4.73e+03, 4.67e+03, 4.61e+03,
            4.55e+03, 4.48e+03, 4.40e+03, 4.32e+03, 4.24e+03, 4.16e+03, 4.12e+03, 4.24e+03,
            5.05e+03, 8.71e+03, 1.80e+04, 2.44e+04, 2.49e+04, 2.40e+04, 2.29e+04, 2.17e+04,
            2.06e+04, 1.94e+04, 1.83e+04, 1.71e+04, 1.60e+04, 1.49e+04, 1.38e+04, 1.28e+04,
            1.18e+04, 1.08e+04, 9.95e+03, 9.11e+03, 8.31e+03, 7.57e+03, 6.89e+03, 6.25e+03,
            5.66e+03, 5.12e+03, 4.62e+03, 4.17e+03, 3.75e+03, 3.38e+03, 3.03e+03, 2.72e+03,
            2.44e+03, 2.19e+03, 1.96e+03, 1.75e+03, 1.57e+03, 1.40e+03, 1.25e+03, 1.12e+03,
            1.00e+03, 8.93e+02, 7.97e+02, 7.12e+02, 6.35e+02, 5.66e+02, 5.05e+02, 4.50e+02,
            4.01e+02, 3.58e+02, 3.19e+02, 2.84e+02, 2.53e+02, 2.26e+02, 2.01e+02, 1.79e+02,
            1.60e+02, 1.43e+02, 1.27e+02, 1.13e+02, 1.01e+02, 9.00e+01, 8.02e+01, 7.16e+01,
            6.38e+01, 5.69e+01, 5.08e+01, 4.53e+01, 4.05e+01, 3.61e+01, 3.23e+01, 2.89e+01,
            2.58e+01, 2.31e+01, 2.07e+01, 1.85e+01]
          ]

  general_structural_steel:  # Fröhlich-Kennelly model based, Bs=1.8T, mu_r_max=~6e3 at H=93A/m
    mu_r: [
           [1.00e+00, 1.12e+00, 1.26e+00, 1.42e+00, 1.59e+00, 1.79e+00, 2.01e+00, 2.26e+00,
            2.54e+00, 2.85e+00, 3.20e+00, 3.59e+00, 4.04e+00, 4.53e+00, 5.09e+00, 5.72e+00,
            6.43e+00, 7.22e+00, 8.11e+00, 9.11e+00, 1.02e+01, 1.15e+01, 1.29e+01, 1.45e+01,
            1.63e+01, 1.83e+01, 2.06e+01, 2.31e+01, 2.60e+01, 2.92e+01, 3.27e+01, 3.68e+01,
            4.13e+01, 4.64e+01, 5.21e+01, 5.86e+01, 6.58e+01, 7.39e+01, 8.30e+01, 9.33e+01,
            1.05e+02, 1.18e+02, 1.32e+02, 1.48e+02, 1.67e+02, 1.87e+02, 2.10e+02, 2.36e+02,
            2.66e+02, 2.98e+02, 3.35e+02, 3.76e+02, 4.23e+02, 4.75e+02, 5.34e+02, 5.99e+02,
            6.73e+02, 7.56e+02, 8.50e+02, 9.55e+02, 1.07e+03, 1.20e+03, 1.35e+03, 1.52e+03,
            1.71e+03, 1.92e+03, 2.15e+03, 2.42e+03, 2.72e+03, 3.05e+03, 3.43e+03, 3.85e+03,
            4.33e+03, 4.86e+03, 5.46e+03, 6.14e+03, 6.89e+03, 7.74e+03, 8.70e+03, 9.77e+03,
            1.10e+04, 1.23e+04, 1.38e+04, 1.56e+04, 1.75e+04, 1.96e+04, 2.21e+04, 2.48e+04,
            2.78e+04, 3.13e+04, 3.51e+04, 3.94e+04, 4.43e+04, 4.98e+04, 5.59e+04, 6.28e+04,
            7.05e+04, 7.92e+04, 8.90e+04, 1.00e+05],

           [1.51e+03, 1.51e+03, 1.51e+03, 1.51e+03, 1.51e+03, 1.51e+03, 1.51e+03, 1.51e+03,
            1.51e+03, 1.51e+03, 1.51e+03, 1.51e+03, 1.51e+03, 1.51e+03, 1.52e+03, 1.52e+03,
            1.52e+03, 1.53e+03, 1.53e+03, 1.54e+03, 1.55e+03, 1.56e+03, 1.58e+03, 1.60e+03,
            1.63e+03, 1.67e+03, 1.72e+03, 1.79e+03, 1.88e+03, 2.01e+03, 2.17e+03, 2.40e+03,
            2.70e+03, 3.10e+03, 3.60e+03, 4.20e+03, 4.83e+03, 5.41e+03, 5.82e+03, 6.01e+03,
            5.98e+03, 5.80e+03, 5.54e+03, 5.23e+03, 4.91e+03, 4.59e+03, 4.28e+03, 3.97e+03,
            3.67e+03, 3.39e+03, 3.12e+03, 2.86e+03, 2.62e+03, 2.39e+03, 2.18e+03, 1.98e+03,
            1.80e+03, 1.63e+03, 1.47e+03, 1.33e+03, 1.20e+03, 1.08e+03, 9.70e+02, 8.72e+02,
            7.83e+02, 7.02e+02, 6.30e+02, 5.64e+02, 5.05e+02, 4.52e+02, 4.04e+02, 3.61e+02,
            3.23e+02, 2.88e+02, 2.57e+02, 2.30e+02, 2.05e+02, 1.83e+02, 1.63e+02, 1.46e+02,
            1.30e+02, 1.16e+02, 1.04e+02, 9.23e+01, 8.24e+01, 7.35e+01, 6.56e+01, 5.85e+01,
            5.22e+01, 4.66e+01, 4.17e+01, 3.72e+01, 3.32e+01, 2.97e+01, 2.66e+01, 2.38e+01,
            2.13e+01, 1.90e+01, 1.71e+01, 1.53e+01]
    ]
# ----------------------------------------------------------------------------------------